<html>
  <head>
    <meta name="apple-mobile-web-app-capable" content="yes">
    <script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
    <script>
      // A-Frame 'loaded' event, to load assets
      AFRAME.registerComponent('asset-loader', {
        init: function () {
          this.el.addEventListener( 'loaded', () => {
            console.log( 'assets loaded' ) ;
            document.querySelector('#sky').play();
          });
        }
      });

      AFRAME.registerComponent('on-click', {
        init: function () {
          this.el.addEventListener( 'click', () => {
            console.log('click');
            document.querySelector('#sky').play();
          });
        }
      });
    </script>
  </head>
  <body>
    
    <a-scene>
      <a-camera id="camera">
        <a-cursor geometry="primitive: ring; radiusInner: 0.005; radiusOuter: 0.02;" opacity="0.8" color="#FFF"></a-cursor>
      </a-camera>
      <!--  como o vídeo 360 geralmente demora a carregar,
            definimos o "asset" primeiro, e em seguida chamamos o componente "a-videosphere" 
            A propriedade "timeout" abaixo é o tempo que a interface espera até carregar o vídeo
      -->
      
        <a-assets asset-loader timeout="10000">
          <!-- <video id="video" loop="true" src="../videos/falls-low-360.mp4"> </video> -->
          <video id="video" autoplay="true" loop="true" src="../videos/london-bridge-360.mp4"> </video>
        </a-assets> 
     

      <!--
        assim como no modelo de imagem 360 estática, o vídeo esférico é usado como textura para o elemento "a-sky", 
        que nada mais é que uma grande esfera cujo centro fica nas coordenadas x=0, y=0, z=0
        repare que abaixo estamos usando '#video-bridge' como source (src)
      -->
      <!-- <a-videosphere src="#video"></a-videosphere> -->
      <!-- <a-sky>
        <video asset-loader id="video-bridge" autoplay loop="true" src="../videos/london-bridge-360.mp4"> </video>
      </a-sky> -->
      
      <!-- Poderíamos ter usado o componente a-sky (da forma abaixo), 
           mas o carregamento iria demorar, deixando o usuário confuso
        <a-sky src="../videos/london-bridge-360.mp4"></a-sky> 
      -->
      <!-- <a-sky src="#video" on-click></a-sky> -->
      <a-sky id="sky" src="#video" width="4200" on-click></a-sky> 
      
    </a-scene>

    
  </body>
</html>